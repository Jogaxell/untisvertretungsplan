(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function N(){}function nt(t){return t()}function J(){return Object.create(null)}function I(t){t.forEach(nt)}function rt(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ft(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function w(t,e,r){t.insertBefore(e,r||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function p(t){return document.createElement(t)}function st(t){return document.createTextNode(t)}function g(){return st(" ")}function at(){return st("")}function dt(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ht(t){return Array.from(t.childNodes)}let x;function E(t){x=t}function pt(){if(!x)throw new Error("Function called outside component initialization");return x}function mt(t){pt().$$.on_mount.push(t)}const T=[],Q=[],P=[],W=[],_t=Promise.resolve();let B=!1;function gt(){B||(B=!0,_t.then(it))}function F(t){P.push(t)}const z=new Set;let M=0;function it(){if(M!==0)return;const t=x;do{try{for(;M<T.length;){const e=T[M];M++,E(e),$t(e.$$)}}catch(e){throw T.length=0,M=0,e}for(E(null),T.length=0,M=0;Q.length;)Q.pop()();for(let e=0;e<P.length;e+=1){const r=P[e];z.has(r)||(z.add(r),r())}P.length=0}while(T.length);for(;W.length;)W.pop()();B=!1,z.clear(),E(t)}function $t(t){if(t.fragment!==null){t.update(),I(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const C=new Set;let v;function ut(){v={r:0,c:[],p:v}}function lt(){v.r||I(v.c),v=v.p}function b(t,e){t&&t.i&&(C.delete(t),t.i(e))}function H(t,e,r,n){if(t&&t.o){if(C.has(t))return;C.add(t),v.c.push(()=>{C.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function ct(t){t&&t.c()}function K(t,e,r,n){const{fragment:o,after_update:u}=t.$$;o&&o.m(e,r),n||F(()=>{const i=t.$$.on_mount.map(nt).filter(rt);t.$$.on_destroy?t.$$.on_destroy.push(...i):I(i),t.$$.on_mount=[]}),u.forEach(F)}function R(t,e){const r=t.$$;r.fragment!==null&&(I(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function bt(t,e){t.$$.dirty[0]===-1&&(T.push(t),gt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,r,n,o,u,i,d=[-1]){const l=x;E(t);const s=t.$$={fragment:null,ctx:[],props:u,update:N,not_equal:o,bound:J(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:J(),dirty:d,skip_bound:!1,root:e.target||l.$$.root};i&&i(s.root);let c=!1;if(s.ctx=r?r(t,e.props||{},(f,a,...y)=>{const L=y.length?y[0]:a;return s.ctx&&o(s.ctx[f],s.ctx[f]=L)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](L),c&&bt(t,f)),a}):[],s.update(),c=!0,I(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){const f=ht(e.target);s.fragment&&s.fragment.l(f),f.forEach($)}else s.fragment&&s.fragment.c();e.intro&&b(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),it()}E(l)}class D{$destroy(){R(this,1),this.$destroy=N}$on(e,r){if(!rt(r))return N;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function yt(t){let e,r,n=t[0].course+"",o,u,i=t[0].lesson+"",d,l,s=t[0].subject+"",c,f,a=t[0].room+"",y,L,O=t[0].teacher+"",U,S,j=t[0].info+"",G,k,A=t[0].text+"";return{c(){e=p("tr"),r=p("td"),o=g(),u=p("td"),d=g(),l=p("td"),c=g(),f=p("td"),y=g(),L=p("td"),U=g(),S=p("td"),G=g(),k=p("td")},m(m,_){w(m,e,_),h(e,r),r.innerHTML=n,h(e,o),h(e,u),u.innerHTML=i,h(e,d),h(e,l),l.innerHTML=s,h(e,c),h(e,f),f.innerHTML=a,h(e,y),h(e,L),L.innerHTML=O,h(e,U),h(e,S),S.innerHTML=j,h(e,G),h(e,k),k.innerHTML=A},p(m,[_]){_&1&&n!==(n=m[0].course+"")&&(r.innerHTML=n),_&1&&i!==(i=m[0].lesson+"")&&(u.innerHTML=i),_&1&&s!==(s=m[0].subject+"")&&(l.innerHTML=s),_&1&&a!==(a=m[0].room+"")&&(f.innerHTML=a),_&1&&O!==(O=m[0].teacher+"")&&(L.innerHTML=O),_&1&&j!==(j=m[0].info+"")&&(S.innerHTML=j),_&1&&A!==(A=m[0].text+"")&&(k.innerHTML=A)},i:N,o:N,d(m){m&&$(e)}}}function wt(t,e,r){let{substitution:n}=e;return t.$$set=o=>{"substitution"in o&&r(0,n=o.substitution)},[n]}class Lt extends D{constructor(e){super(),q(this,e,wt,yt,V,{substitution:0})}}function X(t,e,r){const n=t.slice();return n[1]=e[r],n}function Y(t){let e,r;return e=new Lt({props:{substitution:t[1]}}),{c(){ct(e.$$.fragment)},m(n,o){K(e,n,o),r=!0},p(n,o){const u={};o&1&&(u.substitution=n[1]),e.$set(u)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function vt(t){let e,r,n,o,u=t[0],i=[];for(let l=0;l<u.length;l+=1)i[l]=Y(X(t,u,l));const d=l=>H(i[l],1,1,()=>{i[l]=null});return{c(){e=p("table"),r=p("tr"),r.innerHTML=`<th>Klasse(n)</th> 
        <th>Stunde</th> 
        <th>Fach</th> 
        <th>Raum</th> 
        <th>Lehrer</th> 
        <th>Infotext</th> 
        <th>Vertretungstext</th>`,n=g();for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){w(l,e,s),h(e,r),h(e,n);for(let c=0;c<i.length;c+=1)i[c].m(e,null);o=!0},p(l,[s]){if(s&1){u=l[0];let c;for(c=0;c<u.length;c+=1){const f=X(l,u,c);i[c]?(i[c].p(f,s),b(i[c],1)):(i[c]=Y(f),i[c].c(),b(i[c],1),i[c].m(e,null))}for(ut(),c=u.length;c<i.length;c+=1)d(c);lt()}},i(l){if(!o){for(let s=0;s<u.length;s+=1)b(i[s]);o=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)H(i[s]);o=!1},d(l){l&&$(e),ot(i,l)}}}function Mt(t,e,r){let{substitutions:n}=e;return t.$$set=o=>{"substitutions"in o&&r(0,n=o.substitutions)},[n]}class Tt extends D{constructor(e){super(),q(this,e,Mt,vt,V,{substitutions:0})}}async function Ht(t,e){const n=await(await fetch("https://untisvertretungsplan.coolepizzayt1860.workers.dev/?school=wilhelm-gym-braunschweig&format=V_S_s2EnbAyEk_heute")).json();let o=[];n.payload.rows.forEach(i=>{o.push({lesson:parseInt(i.data[0]),course:i.data[1],subject:i.data[2],room:i.data[3],teacher:i.data[4],info:i.data[5],text:i.data[6]})}),o=o.sort((i,d)=>{let l="",s="",c=0;for(;!isNaN(parseInt(i.course[c]));)l=l+i.course[c],c++;for(c=0;!isNaN(parseInt(d.course[c]));)s+=d.course[c],c++;return parseInt(l)-parseInt(s)});const u=[];return n.payload.messageData.messages.forEach(i=>{u.push(i.body)}),[u,o]}function Z(t,e,r){const n=t.slice();return n[4]=e[r],n}function tt(t){let e,r,n,o,u,i,d=t[0][0],l=[];for(let s=0;s<d.length;s+=1)l[s]=et(Z(t,d,s));return u=new Tt({props:{substitutions:t[0][1]}}),{c(){e=p("h1"),e.textContent="Vertretungsplan",r=g(),n=p("div");for(let s=0;s<l.length;s+=1)l[s].c();o=g(),ct(u.$$.fragment),dt(n,"class","messages")},m(s,c){w(s,e,c),w(s,r,c),w(s,n,c);for(let f=0;f<l.length;f+=1)l[f].m(n,null);w(s,o,c),K(u,s,c),i=!0},p(s,c){if(c&1){d=s[0][0];let a;for(a=0;a<d.length;a+=1){const y=Z(s,d,a);l[a]?l[a].p(y,c):(l[a]=et(y),l[a].c(),l[a].m(n,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=d.length}const f={};c&1&&(f.substitutions=s[0][1]),u.$set(f)},i(s){i||(b(u.$$.fragment,s),i=!0)},o(s){H(u.$$.fragment,s),i=!1},d(s){s&&$(e),s&&$(r),s&&$(n),ot(l,s),s&&$(o),R(u,s)}}}function et(t){let e,r=t[4]+"";return{c(){e=p("p")},m(n,o){w(n,e,o),e.innerHTML=r},p(n,o){o&1&&r!==(r=n[4]+"")&&(e.innerHTML=r)},d(n){n&&$(e)}}}function Et(t){let e,r,n=t[0]&&tt(t);return{c(){n&&n.c(),e=at()},m(o,u){n&&n.m(o,u),w(o,e,u),r=!0},p(o,[u]){o[0]?n?(n.p(o,u),u&1&&b(n,1)):(n=tt(o),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(ut(),H(n,1,1,()=>{n=null}),lt())},i(o){r||(b(n),r=!0)},o(o){H(n),r=!1},d(o){n&&n.d(o),o&&$(e)}}}function Nt(t,e,r){const n=new URLSearchParams(window.location.search),o=n.get("school"),u=n.get("format");let i=[[],[]];return mt(async()=>{!o||!u||r(0,i=await Ht())}),[i]}class xt extends D{constructor(e){super(),q(this,e,Nt,Et,V,{})}}new xt({target:document.getElementById("app")});
